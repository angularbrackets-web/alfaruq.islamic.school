rules_version = '2';
    service cloud.firestore {
       match /databases/{database}/documents {
         // Legacy collections
         match /posts/{postId} {
           allow read: if true;
           allow write: if request.auth != null;
         }
         match /teachers/{teacherId} {
           allow read: if true;
           allow write: if request.auth != null;
         }

         // CMS collections
         match /navigation/{navId} {
           allow read: if true;
           allow write: if request.auth != null;
         }
         match /pages/{pageId} {
           allow read: if true;
           allow write: if request.auth != null;
         }
         match /content_blocks/{blockId} {
           allow read: if true;
           allow write: if request.auth != null;
         }
         match /reusable_components/{componentId} {
           allow read: if true;
           allow write: if request.auth != null;
         }
         match /block_configurations/{configId} {
           allow read: if true;
           allow write: if request.auth != null;
         }
         match /component_instances/{instanceId} {
           allow read: if true;
           allow write: if request.auth != null;
         }
      }
    }